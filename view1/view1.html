<!DOCTYPE html>
<html lang="en" ng-app="myApp" id="ng-app">
<head>

    <title>AngularJS Route Rage directive | Use $routeParams variable in your view!</title>        
    
</head>
<body>
    <div id="container">
        <h1>AngularJS RouteRage</h1>
        <h4>An AngularJS directive which allows you to directly use $routeParams variables in your view
            <br />Version: 1.0.0
        </h4>                        
                
        <br />
        <div hljs class="soloCode" source='"<span isteven-rr>
    $routeParams says: [[rr:param1]] [[rr:param2]]
</span>"'>
        </div>                
        <span isteven-rr>                            
            <h2>$routeParams says: [[rr:param1]] [[rr:param2]]</h2>   
            (Try changing the route parameters on your browser's address bar and hit ENTER or click 'Go' button on your browser)
        </span>                

        <br /><br />

        <a href="https://github.com/isteven/angular-route-rage" class="download" >
            <div class="fa fa-github fa-lg">
            </div>
            &nbsp; View on Github
        </a>                
        
        <h2 class="marginTop">Features</h2>
        <ul>
            <li>Use $routeParams variables in your view directly. No more copying $routeParams to $scope.</li> 
            <li>Using [[rr:... ]] brackets to differentiate it from $scope variables.</li>
            <li>Trigger it once on an element and use it anywhere within the element.</li>
            <li>Allows you to use simple expressions with your $routeParams, for example: [[rr:productId + 1]].</li>            
            <li>Auto clean up unused [[rr:... ]] variables, except on errors.</li>
            <li>Pure AngularJS. No extra dependency.</li>
        </ul> 

<h2 class="marginTop">Usage</h2>
Include the required files. We'll need the AngularJS, angular-route, and the angular-route-rage javascripts.
<div hljs class="soloCode" source='"<script src=\"angular.min.js\"></script>
<script src=\"angular-route.min.js\"></script>    
...
<script src=\"isteven-route-rage.js\"></script>    
...
</div>"'></div>

Load the directive into your AngularJS app. This directive also requires angular-route (ngRoute) module, so don't forget to load it as well:
<div hljs class="soloCode">
angular.module('myApp', [
  'ngRoute',  
  'isteven-rr'
   ...
]);
</div>

Obviously you need to set the routing in your AngularJS application. Take note of the $routeParams variables; <code>param1</code> and <code>param2</code>. We'll use them on the examples below.
<div hljs class="soloCode">
...
angular.module( 'myApp' ).config( [ '$routeProvider', function( $routeProvider ) {
    $routeProvider.when( '/view1/:param1/:param2', {
        templateUrl: 'view1/view1.html',
        controller: 'View1Ctrl'
    });  
}])
...
</div>

Define the directive in your view, such as:<br />
<div hljs class="soloCode" source='"<a href=\"#/view1/[[rr:param1]]/[[rr:param2]]\" isteven-rr>
    Link
</a>"'>
</div>
<strong>!IMPORTANT</strong>: this directive is attribute only!
<br /><br />And that's it. Meanwhile, our controller stays empty throughout the demo...
<div hljs class="soloCode">
...
.controller( 'View1Ctrl', function() {       
    
    // Yaay, no more copying $routeParams into $scope.
    // Stop polutting your $scope!

});
...
</div>


<h2 class="marginTop">Other Samples</h2>

<h4>1) Use it on an element.</h4>
<div hljs class="soloCode" source='"<div isteven-rr data-holder1=\"[[rr:param1]]\" data-holder2=\"[[rr:param2]]\">
</div>"'>
</div>

<h4>2) Well, once you define it on an element, you can use it anywhere inside that element.</h4>
<div hljs class="soloCode" source='"<div isteven-rr>
    Your $routeParams says: [[rr:param1]] [[rr:param2]]
</div>"'>
</div>

<h4>3) Accept simple expressions</h4>
<div hljs class="soloCode" source='"<a isteven-rr href=\"#/product/[[rr:categoryId]]/[[rr:subCategoryId]]/[[rr:productId - 1]]\">
    &laquo; Prev
</a>"'>
</div>
<div hljs class="soloCode" source='"<a isteven-rr href=\"#/product/[[rr:categoryId]]/[[rr:subCategoryId]]/[[rr:productId + 1]]\">
    Next &raquo; 
</a>"'>
</div>

or
<div hljs source='"<div isteven-rr>
    Param1 + Param2 = [[rr:param1 + param2]]
</div>"'>
</div>

or with a $scope variable:
<div hljs source='"<div isteven-rr>
    Param1 + scopeVar = [[rr:param1 + \{\{scopeVar1}}]]
</div>"'>
</div>

        <h2 class="marginTop">Limitations</h2>
        Some known limitations:
        <ul>
            <li>Don't declare it on the <code>body</code> tag.</li>            
            <li>Declare the directive as close as possible to the '[[rr: ... ]]' you want to replace. Don't define it on the parent of the parent of the parent element. For example:
            <br />
            <div class="label label-success"><span class="glyphicon glyphicon-ok "></span> Yes</div>
            <div hljs source='"<div>
    <span>
        <h5>
            <a href=\"#/whatever/[[rr:paramX]]/[[rr:paramY]]\" isteven-rr>
                Click here
            </a>
        </h5>
    </span>
</div>"'>
            </div>

            <div class="label label-success"><span class="glyphicon glyphicon-ok "></span> Yes</div>
            <div hljs source='"<div>
    <span isteven-rr>
        [[rr:paramX]] [[rr:paramY]]
    </span>
</div>"'>
            </div>            
            
            <div class="label label-danger"><span class="glyphicon glyphicon-remove"></span> No</div>
            <div hljs source='"<div isteven-rr>
    <span>
        <h5>
            <a href=\"#/whatever/[[rr:paramX]]/[[rr:paramY]]\">
                Click here
            </a>
        </h5>
    </span>
</div>"'>
            </div>
            * It MIGHT work but I'm not responsible for any problem that might arise.<br /><br /></li>

            <li>Similarly, when combining with other DOM-modifying directives, put the isteven-rr in the same level, or as a child element of that directive. Never outside. Example:
            <br />
<div class="label label-success"><span class="glyphicon glyphicon-ok "></span> Yes</div>
            <div hljs source='"<div ng-repeat=\"car in cars\" isteven-rr>    
    \{\{car.name\}\} [[rr:paramX]] [[rr:paramY]] 
</div>"'>
            </div>
<div class="label label-success"><span class="glyphicon glyphicon-ok "></span> Yes</div>
            <div hljs source='"<div ng-repeat=\"car in cars\">    
    \{\{car.name\}\} 
    <span isteven-rr>
        [[rr:paramX]] [[rr:paramY]]
    </span>
</div>"'>
            </div>
            
            <div class="label label-danger"><span class="glyphicon glyphicon-remove"></span> No</div>
            <div hljs source='"<div isteven-rr>
    <div ng-repeat=\"car in cars\">    
        \{\{car.name\}\} [[rr:paramX]] [[rr:paramY]] 
    </div>
</div>"'>
            </div>            
            * It MIGHT work but again, I'm not responsible for any problem that might arise.<br /><br /></li>
            <li>As you can see, it's important to declare this directive on the right element, so, in case you have any problem, try to declare the directive in different element first.</li>
            <li>It MIGHT converts or encode some special characters, for example: <code><</code> to <code>&amp;lt;</code>.</li>                    
            <li>Expression will only work if it is $eval()-able. For example, 10 * 6 will return 60. I don't know what "lorem ipsum" + 5 will return. Also, if it's $eval()-able but still doesn't work.. well maybe your expression is too complicated, sorry :)</li>
        </ul>

        <h2 class="marginTop">FAQ</h2>
        I understand that some of you think this is overkill - because you can always copy $routeParams into $scope in your controller, and then use it in your view. 
        So why do we need such directive? Well I've wrote the first answer, that is, to stop polluting your $scope. Second, it's an ideal, I guess. 
        Such as.. why do you need to declare in controller, something that you actually only use in your view? 

        <h2 class="marginTop">Dependency</h2>
        AngularJS v1.2.1. Other versions may or may not work. Please test first.

        <h2 class="marginTop">Browser Compatibility</h2>
        Tested on:
        <ul>
            <li>Opera >= 12.16 (Yes, I love Opera browser! Download yours here: <a href="http://www.opera.com/">http://www.opera.com/</a>)</li>
            <li><strike>IE8</strike> IE: At the moment I don't have access to IE9 and above, so please test first before you use this on production environment.</li>
            <li>Firefox >= 27</li>
            <li>Google Chrome >= 33</li>
            <li>Might work on some mobile browsers. Please test first before you use this on production environment.</li>
        </ul>

        <h2 class="marginTop">Bug Reporting</h2>
        <ul>            
            <li>Search in the issue section first. Somebody might have reported the same bug and/or asked similar question. 
            If there's none, then please create a new issue in <a href="https://github.com/isteven/angular-route-rage/issues">https://github.com/isteven/angular-route-rage/issues</a>.</li>
            <li>Try to reproduce the problem in JSFiddle or Plunker (or any other online JS collaboration tool), and include the URL in the issue you are creating.</li>
        </ul>

        <h2 class="marginTop">Note</h2>
        <ul>            
            <li>This directive is a practical solution, not a performance champion. It will not win any code efficiency competition.</li>
            <li>As for the moment, developments are on going, so I am not accepting pull requests. I will choose &  add them manually instead.</li>
            <li>If you like / use this directive in your awesome projects, star this repo. It's a huge motivation for me. Would also love to hear from you if you use it in an open source project. Thanks!</li>                    
            <li>This manual is created using AngularJS seed app.</li>                    
        </ul>      

        <h2 class="marginTop">Licence</h2>
        Released under the MIT license:
        <div class="license">
        <p>The MIT License (MIT)</p>

        <p>Copyright (c) 2014 Ignatius Steven (https://github.com/isteven)</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE</p>
</div>


        <h2 class="marginTop">More AngularJS Directives</h2>
        Have a look on other directives I've created:
        <ul>     
            <li><a href="https://github.com/isteven/angular-multi-select" target='_blank'>AngularJS Multi Select</a>: multi-select dropdown, able to use HTML in your data. Supports unlimited nested grouping.</li>
            <li><a href="https://github.com/isteven/angular-omni-bar" target='_blank'>AngularJS Omni Bar</a>: multi purpose loading / progress bar.</li>
            <!-- <li><a href="https://github.com/isteven/angular-route-rage" target='_blank'>AngularJS Route Rage</a>: use $routeParams parameters directly in your view.</li> -->
        </ul>

        <h3>&nbsp;</h3>
    </div>

</body>
</html>
